{% extends "./base.html" %}

{% block title %}Ranking - PokeQuest{% endblock %}

{% block customCSS %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/ranking_styles.css') }}">
{% endblock %}

{% block body %}
  <div class="container">
    <!-- MenÃº lateral izquierdo -->
    <div class="menu">
      <!-- Logo fijo en la parte superior -->
      <div class="logo">
        <img src="{{ url_for('static', filename='img/logo_2.png') }}" alt="Logo del juego">
      </div>
  
    <!-- Contenedor principal de la tabla -->
    <div class="ranking-container">
      <h2>ðŸš€ Top users ðŸš€</h2>

      <table class="ranking-table">
        <thead>
          <tr>
            <th>Rank</th>
            <th>User</th>
            <th>Highest score</th>
          </tr>
        </thead>
        <tbody>
          {% for user in top_users %}
            <tr>
              <td>{{ loop.index }}</td>
              <td>{{ user.username }}</td>
              <td>{{ user.high_score }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <div class="user-info">
        <p><strong>Your highest score is:</strong> {{ user_high_score }}</p>
        <p><strong>Your rank is:</strong> {{ user_ranking }}</p>
      </div>

    </div>
    </div>
    
    <!-- Imagen central del menÃº -->
    <div class="pokemon-display">
      <img src="{{ url_for('static', filename='img/rank_icon.png') }}" alt="PokÃ©mon" class="pokemon-img">
    </div>

    <!-- MenÃº superior derecho -->
    <div class="top-menu">
      <img id="exitBtn" src="https://img.icons8.com/ios-filled/50/000000/delete-sign.png" alt="Exit" class="icon">
    </div>
  </div>
  <script>
    document.getElementById("exitBtn").addEventListener("click", function() {
      window.location.href = "{{ url_for('menu') }}";  // Redirige al menu
    });
</script>
{% endblock %}
